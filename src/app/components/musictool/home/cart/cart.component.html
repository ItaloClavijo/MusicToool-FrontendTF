<div class="container py-5">
    <h1 class="fw-bold">Mi carrito</h1>

    <div class="row mt-5 justify-content-between">
        <div class="col-md-6">
            <h3 class="fw-bold">Ítems del carrito</h3>

            @if(contentsInCart.length) {
                @for (content of contentsInCart; track content.idContent) {
                    <div class="d-flex gap-2 py-2">
                        <img [src]="content.coverContent | apiImg" alt="" class="mw-96px">

                        <div>
                            <div class="fw-bold"> {{ content.titleContent }} </div>
                            <p> {{ content.priceContent| currency }} </p>

                            <button mat-button color="warn" (click)="removeContentFromCart(content)">
                                Eliminar
                            </button>
                        </div>
                    </div>
                }
            } @else {
                <div>
                    El carrito está vacío
                </div>
            }
        </div>

        <div class="col-md-4 col-lg-3">
            <h3 class="fw-bold">Resumen</h3>

            <h5 class="fw-bold text-end">Total</h5>
            <div class="fs-2 fw-bold text-end my-3">{{ total | currency }}</div>

            <button class="w-100" mat-raised-button color="primary" (click)="pay()"
                [disabled]="loading"
                [class.spinner]="loading">
                Pagar con PayPal
            </button>

            <button class="w-100 mt-3" mat-button routerLink="/home">
                Seguir comprando
            </button>
        </div>
    </div>
</div>
